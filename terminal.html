<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATLAS: DATA FLOW CONSOLE v8.3 (Security &amp; Gaming)</title>
    <link href="./ATLAS_ DATA FLOW CONSOLE v8.3 (Security &amp; Gaming)_files/css2" rel="stylesheet">
    <script src="./ATLAS_ DATA FLOW CONSOLE v8.3 (Security &amp; Gaming)_files/Tone.min.js.download"></script>

    <style>
        :root {
            --terminal-color: #00ff41;
            --terminal-background-color: #000;
            --border-color: #00ff41;
            --prompt-caret: #ffaa00;
            --error-color: #ff0000;
            --highlight-color: #00aaff;
            --game-color: #ffffff;
            --reaction-smile: #ffff00;
            --reaction-thumbsup: #00ff41;
            --reaction-heart: #ff0000;
            --reaction-surprised: #00aaff;
            --reaction-sad: #00ffff;
            --accept-button: #00ff41;
            --decline-button: #ff0000;
            --leave-button: #ffaa00;
        }

        body {
            background-color: var(--terminal-background-color);
            font-family: 'VT323', monospace;
            color: var(--terminal-color);
            font-size: 1.1rem;
            line-height: 1.4;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        #terminal-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(0deg, var(--terminal-color)33, var(--terminal-color)33 1px, #000 1px, #000 3px);
            pointer-events: none;
            z-index: 0;
            opacity: 0.15;
            animation: flicker 10s infinite alternate;
        }

        @keyframes flicker {
            0% { opacity: 0.15; }
            50% { opacity: 0.1; }
            100% { opacity: 0.2; }
        }

        #console-container {
            width: 90%;
            max-width: 1200px;
            height: 90vh;
            background-color: #111;
            border: 2px solid var(--border-color);
            box-shadow: 0 0 20px var(--terminal-color);
            padding: 20px;
            overflow: hidden;
            z-index: 1;
            display: flex;
            flex-direction: column;
            border-radius: 8px;
            display: none;
        }

        #console-header {
            flex-shrink: 0;
            padding-bottom: 10px;
            margin-bottom: 10px;
            border-bottom: 1px dashed var(--highlight-color);
            font-size: 1.2rem;
            color: var(--highlight-color);
            white-space: pre;
        }

        #terminal-output {
            flex-grow: 1;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            padding-bottom: 10px;
            scrollbar-width: none;
        }

        #terminal-output::-webkit-scrollbar {
            display: none;
        }

        #command-line {
            display: flex;
            align-items: center;
            flex-shrink: 0;
            margin-top: 10px;
        }

        #prompt {
            color: var(--prompt-caret);
            margin-right: 5px;
            white-space: nowrap;
        }

        #command-input {
            flex-grow: 1;
            background: transparent;
            border: none;
            color: var(--terminal-color);
            font-family: 'VT323', monospace;
            font-size: 1.1rem;
            outline: none;
            caret-color: var(--terminal-color);
            padding: 0;
        }

        #login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        #login-card {
            border: 3px solid var(--error-color);
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.8);
            padding: 30px;
            background-color: #111;
            text-align: center;
            max-width: 400px;
            width: 90%;
            border-radius: 5px;
        }

        .login-field {
            margin-bottom: 20px;
            text-align: left;
        }

        .login-field label {
            display: block;
            margin-bottom: 5px;
            color: var(--prompt-caret);
        }

        .login-field input {
            width: 100%;
            padding: 10px;
            background-color: #000;
            border: 1px solid var(--error-color);
            color: var(--prompt-caret);
            font-family: 'VT323', monospace;
            font-size: 1.1rem;
            box-sizing: border-box;
            outline: none;
        }

        #passkey {
            max-width: 50%;
        }

        #login-button {
            background-color: var(--error-color);
            color: #fff;
            border: 2px solid var(--error-color);
            padding: 10px 20px;
            cursor: pointer;
            font-family: 'VT323', monospace;
            font-size: 1.2rem;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            transition: background-color 0.2s, box-shadow 0.2s;
            width: 100%;
            border-radius: 4px;
        }

        #login-button:hover {
            background-color: #cc0000;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.8);
        }

        #login-status {
            color: var(--prompt-caret);
            margin-top: 15px;
            min-height: 1.5rem;
        }

        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.98);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 200;
            color: var(--terminal-color);
        }

        #loading-logo {
            font-size: 5rem;
            color: var(--highlight-color);
            animation: glitch 1.5s infinite alternate;
            margin-bottom: 20px;
        }

        @keyframes glitch {
            0% { text-shadow: 0 0 1px var(--error-color), 0 0 5px var(--highlight-color); transform: skew(0.5deg); }
            50% { text-shadow: 0 0 1px var(--terminal-color), 0 0 5px var(--prompt-caret); transform: skew(-0.5deg); }
            100% { text-shadow: 0 0 1px var(--highlight-color), 0 0 5px var(--error-color); transform: skew(0deg); }
        }
    </style>
</head>
<body>
    <div id="terminal-background"></div>

    <div id="login-overlay" style="display: flex;">
        <div id="login-card">
            <h2 style="color: var(--error-color); margin-top: 0; margin-bottom: 20px;">ATLAS ACCESS PROTOCOL</h2>
            <p style="color: var(--prompt-caret); font-size: 1rem;">STATUS: Three-Factor Authentication Required.</p>
            <form id="login-form">
                <div class="login-field">
                    <label for="username">USERNAME:</label>
                    <input type="text" id="username" required="">
                </div>
                <div class="login-field">
                    <label for="password">PASSWORD:</label>
                    <input type="password" id="password" required="">
                </div>
                <div class="login-field">
                    <label for="passkey">PASSKEY (4 DIGITS):</label>
                    <input type="text" id="passkey" required="" maxlength="4">
                </div>
                <button type="button" id="login-button">INITIATE ACCESS SEQUENCE</button>
            </form>
            <div id="login-status">Awaiting Authentication...</div>
        </div>
    </div>

    <div id="loading-screen">
        <div id="loading-logo">ATLAS_INIT</div>
        <div id="loading-text" style="color:var(--highlight-color);">Processing Authentication Handshake...</div>
    </div>

    <div id="console-container" style="display: none;">
        <div id="console-header">ATLAS_SYSTEM_OFFLINE</div>
        <div id="terminal-output"></div>
        <div id="command-line">
            <span id="prompt">LOGIN&gt; </span>
            <input type="text" id="command-input" autocomplete="off" spellcheck="false" placeholder="Enter command...">
        </div>
    </div>

<script>
// ---------- GLOBAL STATE ----------
let authUsername = '';
let userType = '';
let isLoggedIn = false;
let failedAttempts = 0;
let isLockedDown = false;
let audioPlayers = {};
let timeUpdateInterval = null;

// Minimal stubs for functions referenced elsewhere
function stopIncomingInterval() { /* stub - no-op for now */ }
function acceptCall(caller) { writeOutput(`Accepted call from ${caller}`, 'var(--highlight-color)'); isRinging = false; }
function rejectCall() { writeOutput('Call rejected.', 'var(--prompt-caret)'); isRinging = false; }

// DOM references
const loginModal = document.getElementById('login-overlay');
const passwordInput = document.getElementById('password');
const keyInput = document.getElementById('passkey');
const loginError = document.getElementById('login-status');
const consoleContainer = document.getElementById('console-container');
const consoleOutput = document.getElementById('terminal-output');
const consoleInput = document.getElementById('command-input');
const timeDisplay = document.getElementById('console-header');
const commandPrompt = document.getElementById('prompt');
const loginButton = document.getElementById('login-button');

// ---------- STATIC DATA ----------
const USERS = {
    'ETHANUNLOCKED': { password: 'h4cker', passkey: '1957', role: 'MANAGER', chatStatus: 'ONLINE' },
    'BEEF WELLINGTON': { password: 'Eat_me', passkey: '2251', role: 'ADMIN', chatStatus: 'ONLINE' },
    'GYATTMODEPLAYS': { password: 'justmyusername', passkey: '0000', role: 'ADMIN', chatStatus: 'ONLINE' }
};

const SOUND_EFFECTS = {
    'SIREN': 'siren.mp3',
    'CONFIRM': 'confirm.mp3',
    'ALARM': 'alert.mp3',
    'GET OUT': 'GET.mp3',
    'VINE BOOM': 'vine-boom.mp3',
    'RIZZ': 'rizz.mp3',
    'YOUR IDOL': 'idol.mp3',
    'FART': 'fart.mp3',
    '6 7': '67.mp3',
    'GOLDEN': 'gold.mp3',
    'SODA POP': 'soda.mp3',
    'BRUH': 'bro.mp3',
    'SUI': 'sui.mp3',
    'JOHN CENA': 'cena.mp3',
    'PUMPKIN': 'pumpkin.mp3',
    'B+F': 'b.mp3',
    'BURP': 'burp.mp3',
    'FAH': 'fah.mp3',
    'FIRE IN THE HOLE': 'fire-in-the-hole.mp3'
};

// ---------- UTILITIES ----------
function writeOutput(text, color = 'var(--terminal-color)', isCommand = false) {
    const line = document.createElement('div');
    line.style.color = color;
    line.style.fontFamily = 'monospace';
    line.style.whiteSpace = 'pre-wrap';
    line.textContent = isCommand ? `${commandPrompt.textContent}${text}` : text;
    consoleOutput.appendChild(line);
    consoleOutput.scrollTop = consoleOutput.scrollHeight;
}

function clearOutput() {
    consoleOutput.innerHTML = '';
}

function showLoginModal() {
    loginModal.style.display = 'flex';
    consoleContainer.style.display = 'none';
    commandPrompt.textContent = 'LOGIN> ';
}

function hideLoginModal() {
    loginModal.style.display = 'none';
    loginError.textContent = '';
    document.getElementById('username').value = '';
    passwordInput.value = '';
    keyInput.value = '';
}

// Format time display in header
const LOCATION = 'KOLLARNEY BAY SECURE NODE';
function getCurrentFormattedTime() {
    const now = new Date();
    const dayNames = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];
    const monthNames = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];
    const day = dayNames[now.getDay()];
    const date = now.getDate().toString().padStart(2, '0');
    const month = monthNames[now.getMonth()];
    const year = now.getFullYear();
    let hours = now.getHours();
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const seconds = now.getSeconds().toString().padStart(2, '0');
    const ampm = hours >= 12 ? 'PM' : 'AM';
    hours = hours % 12;
    hours = hours ? hours.toString().padStart(2, '0') : '12';
    return `${day}, ${date}-${month}-${year} | ${hours}:${minutes}:${seconds} ${ampm} | LOCATION: ${LOCATION}`;
}

function updateHeaderDisplay() {
    timeDisplay.textContent = `[ ${getCurrentFormattedTime()} | USER: ${authUsername} ]`;
}

function stopTimeInterval() {
    if (timeUpdateInterval) {
        clearInterval(timeUpdateInterval);
        timeUpdateInterval = null;
        timeDisplay.textContent = 'ATLAS_SYSTEM_OFFLINE';
    }
}

function startTimeInterval() {
    stopTimeInterval();
    updateHeaderDisplay();
    timeUpdateInterval = setInterval(updateHeaderDisplay, 1000);
}

// ---------- AUDIO: normalization & map ----------
function normalizeSoundKey(s) {
    if (s === null || s === undefined) return '';
    return s.toString().trim().replace(/\s+/g, ' ').toUpperCase();
}

const SOUND_COMMAND_NAMES = Object.keys(SOUND_EFFECTS);
const SOUND_COMMAND_MAP = {};
SOUND_COMMAND_NAMES.forEach(name => {
    SOUND_COMMAND_MAP[normalizeSoundKey(name)] = name; // normalized -> canonical key
});

// Ensure AudioContext running (try resume)
async function ensureAudioContextRunning() {
    if (!window.Tone || !Tone.context) {
        writeOutput('ERROR: Tone.js not available.', 'var(--error-color)');
        return false;
    }
    if (Tone.context.state === 'running') return true;
    try {
        await Tone.context.resume();
        writeOutput('WEB AUDIO CONTEXT RESUMED.', 'var(--highlight-color)');
        return true;
    } catch (err) {
        writeOutput(`ERROR: Unable to resume Audio Context. Try typing INIT AUDIO or interacting with the page. ${(err && err.message) ? err.message : ''}`, 'var(--error-color)');
        return false;
    }
}

// Load sound (returns player)
function loadSound(originalName) {
    const filePath = SOUND_EFFECTS[originalName];
    if (!filePath) {
        writeOutput(`ERROR: No sound file configured for "${originalName}".`, 'var(--error-color)');
        return Promise.reject(new Error('No file'));
    }

    if (audioPlayers[originalName]) return Promise.resolve(audioPlayers[originalName]);

    try {
        audioPlayers[originalName] = new Tone.Player(filePath).toDestination();
        return audioPlayers[originalName].load().then(() => audioPlayers[originalName]);
    } catch (err) {
        writeOutput(`Error initializing sound ${originalName}: ${err.message}`, 'var(--error-color)');
        return Promise.reject(err);
    }
}

// Play sound by name or user-typed input (handles multi-word and lowercase)
async function playSound(nameOrInput, loop = false) {
    const normalized = normalizeSoundKey(nameOrInput);
    const originalName = SOUND_COMMAND_MAP[normalized] || nameOrInput.toString().toUpperCase();

    if (!SOUND_EFFECTS[originalName]) {
        writeOutput(`ERROR: Unknown sound "${nameOrInput}". Type SOUNDS for a list.`, 'var(--error-color)');
        return;
    }

    const ok = await ensureAudioContextRunning();
    if (!ok) {
        writeOutput('Error: Audio Context not initialized. Type INIT AUDIO or interact with the page to enable audio.', 'var(--error-color)');
        return;
    }

    try {
        if (!audioPlayers[originalName]) {
            audioPlayers[originalName] = new Tone.Player(SOUND_EFFECTS[originalName]).toDestination();
            audioPlayers[originalName].loop = !!loop;
            try {
                await audioPlayers[originalName].load();
            } catch (loadErr) {
                // Some browsers/versions auto-load - warn but continue
                writeOutput(`Warning: could not explicitly load ${originalName}: ${(loadErr && loadErr.message) ? loadErr.message : loadErr}`, 'var(--prompt-caret)');
            }
        }

        const player = audioPlayers[originalName];
        player.loop = !!loop;

        if (player.state === 'started') {
            if (!loop) {
                player.stop();
                player.start();
            }
            // if already looping and loop requested, leave it
        } else {
            player.start();
        }

        writeOutput(`SOUND TRIGGERED: ${originalName}`, 'var(--highlight-color)');
    } catch (err) {
        writeOutput(`ERROR: Could not play sound ${originalName}: ${(err && err.message) ? err.message : err}`, 'var(--error-color)');
    }
}

function stopSound(name) {
    const player = audioPlayers[name];
    if (player && player.state === 'started') {
        player.stop();
    }
}

// ---------- COMMAND PROCESSING ----------
function initiateLockdown(reason) {
    if (isLockedDown) return;
    isLockedDown = reason || 'UNKNOWN';
    stopIncomingInterval();
    playSound('LOCKDOWN_START').catch(()=>{});
    writeOutput('----------------------------------------------------', 'var(--error-color)');
    writeOutput(`!!! CRITICAL ALERT: SYSTEM LOCKDOWN INITIATED !!!`, 'var(--error-color)');
    writeOutput(`REASON: ${reason}`, 'var(--error-color)');
    writeOutput('ALL ACCESS RESTRICTED. CONTACT SECURITY ADMIN.', 'var(--error-color)');
    writeOutput('----------------------------------------------------', 'var(--error-color)');
    commandPrompt.textContent = 'LOCKED> ';
}

async function processCommand(command) {
    if (isLockedDown) {
        writeOutput(`ERROR: SYSTEM LOCKED DOWN. Reason: ${isLockedDown}`, 'var(--error-color)', true);
        return;
    }
    if (!isLoggedIn) {
        writeOutput('ERROR: NOT LOGGED IN.', 'var(--error-color)', true);
        return;
    }

    const raw = command || '';
    const trimmed = raw.trim();
    const normalizedInput = normalizeSoundKey(trimmed);
    const parts = normalizedInput.split(/\s+/).filter(Boolean);
    const cmd = parts[0] || '';
    const args = parts.slice(1);

    writeOutput(command, 'var(--terminal-color)', true);

    // If full normalized input matches a sound name, play it
    if (SOUND_COMMAND_MAP[normalizedInput]) {
        playSound(normalizedInput);
        return;
    }

    switch (cmd) {
        case 'HELP':
            writeOutput('=== ATLAS COMMAND DIRECTORY ===', 'var(--highlight-color)');
            writeOutput('', 'var(--terminal-color)');
            writeOutput('--- SYSTEM COMMANDS ---', 'var(--highlight-color)');
            writeOutput('  HELP             - Display this command directory', 'var(--terminal-color)');
            writeOutput('  COMMANDS         - List all available system commands', 'var(--terminal-color)');
            writeOutput('  SOUNDS           - List all available sound effects', 'var(--terminal-color)');
            writeOutput('  CLEAR            - Clear the console output', 'var(--terminal-color)');
            writeOutput('  LOGOUT           - Log out and return to login screen', 'var(--terminal-color)');
            writeOutput('  LOCKDOWN <TEXT>  - Initiate system-wide lockdown', 'var(--terminal-color)');
            writeOutput('  INIT AUDIO       - Initialize Web Audio Context', 'var(--terminal-color)');
            writeOutput('  ECHO <TEXT>      - Repeat the text input', 'var(--terminal-color)');
            writeOutput('  ACCEPT CALL      - Accept incoming call', 'var(--terminal-color)');
            writeOutput('  REJECT CALL      - Reject incoming call', 'var(--terminal-color)');
            writeOutput('', 'var(--terminal-color)');
            writeOutput('Type COMMANDS or SOUNDS for detailed listings.', 'var(--prompt-caret)');
            writeOutput('Tip: To play a sound, type JUST THE SOUND NAME (e.g., SIREN) and press Enter. Multi-word names work too (e.g., GET OUT).', 'var(--prompt-caret)');
            break;

        case 'COMMANDS':
            writeOutput('=== SYSTEM COMMANDS LIST ===', 'var(--highlight-color)');
            writeOutput('', 'var(--terminal-color)');
            writeOutput('1.  HELP             - Display command directory', 'var(--terminal-color)');
            writeOutput('2.  COMMANDS         - Show this list', 'var(--terminal-color)');
            writeOutput('3.  SOUNDS           - Show all sound effects', 'var(--terminal-color)');
            writeOutput('4.  CLEAR            - Clear console output', 'var(--terminal-color)');
            writeOutput('5.  LOGOUT           - Log out of system', 'var(--terminal-color)');
            writeOutput('6.  LOCKDOWN <TEXT>  - Initiate lockdown protocol', 'var(--terminal-color)');
            writeOutput('7.  INIT AUDIO       - Enable sound system', 'var(--terminal-color)');
            writeOutput('8.  ECHO <TEXT>      - Echo text to console', 'var(--terminal-color)');
            writeOutput('9.  ACCEPT CALL      - Accept incoming call', 'var(--terminal-color)');
            writeOutput('10. REJECT CALL      - Reject incoming call', 'var(--terminal-color)');
            writeOutput('', 'var(--terminal-color)');
            writeOutput('Total Commands: 10', 'var(--prompt-caret)');
            break;

        case 'SOUNDS':
            writeOutput('=== AVAILABLE SOUND EFFECTS ===', 'var(--highlight-color)');
            writeOutput('', 'var(--terminal-color)');
            writeOutput('To play a sound, type JUST THE SOUND NAME (exact text). Case and spacing do not matter.', 'var(--prompt-caret)');
            SOUND_COMMAND_NAMES.forEach((orig, i) => {
                writeOutput(`  ${i + 1}. ${orig}`, 'var(--terminal-color)');
            });
            break;

        case 'CLEAR':
            clearOutput();
            break;

        case 'LOGOUT':
            writeOutput('LOGGING OUT...', 'var(--highlight-color)');
            setTimeout(() => {
                authUsername = '';
                isLoggedIn = false;
                isLockedDown = false;
                stopIncomingInterval();
                showLoginModal();
                clearOutput();
                stopTimeInterval();
            }, 1000);
            break;

        case 'LOCKDOWN':
            const reason = args.join(' ') || 'UNKNOWN THREAT';
            initiateLockdown(reason);
            break;

        case 'INIT':
            if (args[0] === 'AUDIO') {
                ensureAudioContextRunning().then(() => {
                    writeOutput('WEB AUDIO CONTEXT RESUMED. Loading sound files...', 'var(--highlight-color)');
                    SOUND_COMMAND_NAMES.forEach(key => loadSound(key).catch(()=>{}));
                });
            } else {
                writeOutput('ERROR: Unknown command. Type HELP for a list of commands.', 'var(--error-color)');
            }
            break;

        case 'ECHO':
            writeOutput(args.join(' '), 'var(--game-color)');
            break;

        case 'ACCEPT':
            if (args[0] === 'CALL' && isRinging) {
                const caller = incomingCaller.textContent;
                acceptCall(caller);
            } else {
                writeOutput('ERROR: No incoming call to accept.', 'var(--error-color)');
            }
            break;

        case 'REJECT':
            if (args[0] === 'CALL' && isRinging) {
                rejectCall();
            } else {
                writeOutput('ERROR: No incoming call to reject.', 'var(--error-color)');
            }
            break;

        default:
            writeOutput('ERROR: Unknown command. Type HELP for a list of commands.', 'var(--error-color)');
    }
}

// ---------- LOGIN HANDLER ----------
async function handleLoginAttempt(event) {
    event && event.preventDefault && event.preventDefault();

    const username = document.getElementById('username').value.trim().toUpperCase();
    const password = passwordInput.value;
    const key = keyInput.value;
    let success = false;
    let targetUser = null;

    for (const userKey in USERS) {
        const user = USERS[userKey];
        if (username === userKey && password === user.password && key === user.passkey) {
            authUsername = userKey;
            userType = user.role;
            targetUser = user;
            success = true;
            break;
        }
    }

    document.getElementById('loading-screen').style.display = 'flex';
    await new Promise(resolve => setTimeout(resolve, 1000));
    document.getElementById('loading-screen').style.display = 'none';

    if (!success) {
        failedAttempts++;
        loginError.textContent = 'AUTHENTICATION FAILURE. ACCESS DENIED.';
        playSound('LOGIN_FAIL').catch(()=>{});
        return;
    }

    // Successful login
    isLoggedIn = true;
    hideLoginModal();
    clearOutput();
    consoleContainer.style.display = 'flex';
    commandPrompt.textContent = 'ATLAS> ';
    writeOutput(`Welcome ${authUsername}.`, 'var(--highlight-color)');
    startTimeInterval();

    // Attempt to preload basic audio after a user gesture (we have one now)
    ensureAudioContextRunning().then(() => {
        // optionally preload common sounds
        ['SIREN','CONFIRM','CALL_RINGING'].forEach(k => loadSound(k).catch(()=>{}));
    });
}

// ---------- USER INTERACTIONS ----------
loginButton.addEventListener('click', handleLoginAttempt);

consoleInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
        const v = consoleInput.value;
        if (!v.trim()) { consoleInput.value = ''; return; }
        processCommand(v);
        consoleInput.value = '';
    }
});

// Enable clicking anywhere to help resume audio in restrictive browsers
document.body.addEventListener('click', () => {
    ensureAudioContextRunning().catch(()=>{});
});

// Initialize
showLoginModal();
</script>
</body>
</html>
