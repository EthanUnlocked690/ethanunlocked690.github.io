<!DOCTYPE html>
<html>
<head>
    <title>Battleship</title>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }

        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #333;
        }

        li {
            float: left;
        }

        li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        li a:hover {
            background-color: #111;
        }

        #game-container {
            width: 80%;
            margin: 20px auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #output {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #f9f9f9;
            white-space: pre-wrap; /* Allows for multi-line output */
        }
    </style>
</head>
<body>
    <ul>
        <li><a class="active" href="index.html">Home</a></li>
        <li><a href="news.html">News</a></li>
        <li><a href="subscribe.html">Subscribe</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="short.html">Shorts</a></li>
        <li><a href="videos.html">Video Gallery</a></li>
        <li><a href="images.html">Image Gallery</a></li>
        <li><a href="animate.html">LEGO Animations</a></li>
        <li><a href="tutorial.html">Tutorials & Speedruns</a></li>
        <li><a href="game.html" style="background-color:black">Game</a></li>
    </ul>

    <div id="game-container">
        <h1>Battleship Game</h1>
        <div id="output"></div>
        <py-script>
            from random import randint

            # --- Game Setup ---
            board = []
            for x in range(5):
                board.append(["O"] * 5)

            def print_board(board):
                output_str = ""
                for row in board:
                    output_str += " ".join(row) + "\\n"
                return output_str

            def random_row(board):
                return randint(0, len(board) - 1)

            def random_col(board):
                return randint(0, len(board[0]) - 1)

            ship_row = random_row(board)
            ship_col = random_col(board)

            # --- Game Logic ---
            def play_game():
                output_element = Element("output")  # Get the output element
                for turn in range(4):
                    output_element.write(f"Turn {turn + 1}\\n")
                    output_element.write(print_board(board))  # Show the board at the start of each turn

                    while True:  # Input validation loop
                        try:
                            guess_row = int(input("Guess Row (0-4): "))
                            guess_col = int(input("Guess Col (0-4): "))
                            if 0 <= guess_row <= 4 and 0 <= guess_col <= 4:
                                break  # Valid input, exit the loop
                            else:
                                output_element.write("Oops, that's not even in the ocean. Please enter numbers between 0 and 4.\\n")
                        except ValueError:
                            output_element.write("Please enter a valid number.\\n")

                    if guess_row == ship_row and guess_col == ship_col:
                        output_element.write("Congratulations! You sank my battleship!\\n")
                        break  # End the game if the ship is hit
                    else:
                        if board[guess_row][guess_col] == "X":
                            output_element.write("You guessed that one already.\\n")
                        else:
                            output_element.write("You missed my battleship!\\n")
                            board[guess_row][guess_col] = "X"
                    if turn == 3:
                        output_element.write("Game Over\\n")
                        output_element.write(f"The ship was at row {ship_row}, column {ship_col}\\n")  # Reveal ship location
                        output_element.write(print_board(board))
            # --- Start the game ---
            play_game()
        </py-script>
    </div>
</body>
</html>




